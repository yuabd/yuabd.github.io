webpackJsonp([7,5],{0:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=n(58),r=a(s),o=n(6),c=a(o),i=n(200),u=a(i),l=n(55),d=a(l),m=n(199),f=a(m),h=n(102),p=a(h);n(137),n(151);var v=n(201),_=a(v),g=n(173),C=a(g),b=n(56),w=a(b);c.default.use(_.default),c.default.use(u.default),c.default.use(f.default),c.default.use(p.default),c.default.http.options.emulateJSON=!0;var y=new u.default({routes:d.default,history:!0,saveScrollPosition:!1,transitionOnLoad:!0});y.beforeEach(function(t,e,n){if(document.body.scrollTop=0,document.documentElement.scrollTop=0,t.matched.some(function(t){return!t.meta.noCheckSession})){var a=w.default.state.auth.check();a?n():n({path:"/login",query:{redirect:t.fullPath}})}else n()});new c.default((0,r.default)({el:"#app",router:y,store:w.default},C.default))},42:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(175),r=a(s),o=n(176),c=a(o);e.default={components:{Bottomnav:r.default,Headernav:c.default},data:function(){return{}},mounted:function(){var t=480;document.documentElement.clientWidth<480&&(t=document.documentElement.clientWidth),document.documentElement.style.fontSize=t/20+"px"},methods:{}}},44:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){this.$store.commit("init",null)},methods:{gotop:function(){return document.body.scrollTop=0,document.documentElement.scrollTop=0,!1}}}},45:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isShowFixMenu:!1}},methods:{handleScroll:function(){this.$store.state.showMenu&&(this.isShowFixMenu=window.scrollY>this.$refs.headerdiv.getBoundingClientRect().height);var t=document.body.scrollTop||document.documentElement.scrollTop;t>100?this.$store.state.showTop||this.$store.commit("changeTop",!0):this.$store.commit("changeTop",!1)}},mounted:function(){window.addEventListener("scroll",this.handleScroll)}}},55:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return n.e(4,function(){return t(n(177))})},s=function(t){return n.e(3,function(){return t(n(178))})},r=function(t){return n.e(0,function(){return t(n(183))})},o=function(t){return n.e(0,function(){return t(n(182))})},c=function(t){return n.e(0,function(){return t(n(180))})},i=function(t){return n.e(0,function(){return t(n(181))})},u=function(t){return n.e(1,function(){return t(n(174))})},l=function(t){return n.e(1,function(){return t(n(179))})},d=function(t){return n.e(2,function(){return t(n(184))})},m=function(t){return n.e(1,function(){return t(n(185))})};e.default=[{path:"/",component:a,meta:{noCheckSession:!0},name:"home"},{path:"/home",component:a,meta:{noCheckSession:!0}},{path:"/list",component:o,meta:{noCheckSession:!0}},{path:"/search",component:r,meta:{noCheckSession:!0}},{path:"/search/:keywords",component:r,meta:{noCheckSession:!0}},{path:"/p/:productid",component:i,name:"ProductDetail",meta:{noCheckSession:!0}},{path:"/category",component:c,name:"ProductCategory",meta:{noCheckSession:!0}},{path:"/cart",component:u,name:"shoppingcart",meta:{noCheckSession:!0}},{path:"/submit/:itemid",component:l,name:"submitOrderSingle"},{path:"/submit",component:l,name:"submitOrderFromCart"},{path:"/login",component:s,meta:{noCheckSession:!0},name:"login"},{path:"/reg",component:a,meta:{noCheckSession:!0},name:"reg"},{path:"/my",component:d,name:"my"},{path:"/order",component:m,name:"orderlist"},{path:"/orderdetail/:orderid",component:m,name:"orderdetail"}]},56:function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(28),r=a(s),o=n(6),c=a(o),i=n(202),u=a(i);c.default.use(u.default);var l="auth.jwt_token",d="auth.user",m="auth.id",f="cart.list",h="cart.count",p=t.localStorage;e.default=new u.default.Store({state:{showMenu:!0,activeMenu:"home",showGoTop:!1,domainUrl:"http://www.guyushi.com/",apidomain:"http://www.guyushi.com/",auth:{check:function(){return null!==this.jwt_token},jwt_token:p.getItem(l),id:p.getItem(m),user:JSON.parse(p.getItem(d))},cartcount:0,cartlist:[]},mutations:{changeMenu:function(t,e){t.showMenu=e},changeTop:function(t,e){t.showGoTop=e},changeNav:function(t,e){t.activeMenu=e},ACCOUNT_AUTH_STATUS_CHANGED:function(t,e){return e?(c.default.set(t.auth,"jwt_token",e.jwt_token),c.default.set(t.auth,"id",e.id),c.default.set(t.auth,"user",e),p.setItem(l,e.jwt_token),p.setItem(m,e.id),void p.setItem(d,(0,r.default)(e))):(c.default.set(t.auth,"jwt_token",null),c.default.set(t.auth,"id",0),c.default.set(t.auth,"user",null),p.removeItem(l),p.removeItem(m),void p.removeItem(d))},changeTitle:function(t,e){document.title=e+" | 故与事-一家有实体店的化妆品商城"},init:function(t,e){t.cartcount=parseInt(p.getItem(h)||0),t.cartlist=JSON.parse(p.getItem(f))||[]},addCart:function(t,e){t.cartcount=0,t.carttotal=0;for(var n=!1,a=t.cartlist.length-1;a>=0;a--)t.cartlist[a].id==e.id&&(t.cartlist[a].count++,n=!0),t.cartcount+=parseInt(t.cartlist[a].count);n||(e.check=!0,t.cartlist.push(e),t.cartcount+=parseInt(e.count)),p.setItem(h,t.cartcount),p.setItem(f,(0,r.default)(t.cartlist))},delCart:function(t,e){t.cartcount=0,t.carttotal=0;for(var n=t.cartlist.length-1;n>=0;n--)t.cartlist[n].id!=e?t.cartcount+=parseInt(t.cartlist[n].count):t.cartlist.splice(n,1);p.setItem(h,t.cartcount),p.setItem(f,(0,r.default)(t.cartlist))},updateCart:function(t,e){t.cartcount=0,t.carttotal=0;for(var n=t.cartlist.length-1;n>=0;n--)t.cartlist[n].id==e.id&&(t.cartlist[n].count=parseInt(e.count)),t.cartcount+=parseInt(t.cartlist[n].count);p.setItem(h,t.cartcount),p.setItem(f,(0,r.default)(t.cartlist))},SyncLocalStorageCart:function(t,e){p.setItem(f,(0,r.default)(t.cartlist))}}})}).call(e,function(){return this}())},137:function(t,e){},141:function(t,e){},145:function(t,e){},150:function(t,e){},151:function(t,e){},173:function(t,e,n){n(141);var a=n(3)(n(42),n(189),null,null);t.exports=a.exports},175:function(t,e,n){n(145);var a=n(3)(n(44),n(193),null,null);t.exports=a.exports},176:function(t,e,n){n(150);var a=n(3)(n(45),n(198),null,null);t.exports=a.exports},189:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$store.state.activeMenu+"-page",attrs:{id:"page"}},[n("Headernav"),t._v(" "),n("div",{staticClass:"container"},[n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[n("router-view")],1)],1),t._v(" "),n("Bottomnav")],1)},staticRenderFns:[]}},193:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bottom-nav"},[n("a",{staticClass:"tabbar-index",class:{"tabbar-index_cur":"home"==t.$store.state.activeMenu},attrs:{href:"/#/"}},[t._v("首页")]),t._v(" "),n("a",{staticClass:"tabbar-list",class:{"tabbar-list_cur":"list"==t.$store.state.activeMenu},attrs:{href:"/#/list"}},[t._v("所有商品")]),t._v(" "),n("a",{staticClass:"tabbar-cart",class:{"tabbar-cart_cur":"cart"==t.$store.state.activeMenu},attrs:{href:"/#/cart"}},[t._v("购物车\r\n        "),n("span",{staticClass:"nav-cart-num ",staticStyle:{display:"block"}},[t._v(t._s(t.$store.state.cartcount))])]),t._v(" "),n("a",{staticClass:"tabbar-member",class:{"tabbar-member_cur":"usercenter"==t.$store.state.activeMenu},attrs:{href:"/#/my"}},[t._v("我的")])]),t._v(" "),t._m(0),t._v(" "),t.$store.state.showGoTop?n("a",{staticClass:"goto-top block",on:{click:t.gotop}}):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"touch-footer-container",staticStyle:{"transform-origin":"0px 0px 0px",opacity:"1"}},[n("ul",{staticClass:"tab clear"},[n("li",{staticClass:"checked"},[n("a",{attrs:{href:"//m.guyushi.com"}},[t._v("触屏版")])]),t._v(" "),n("li",{},[n("a",{attrs:{href:"http://www.guyushi.com/"}},[t._v("电脑版")])])]),t._v(" "),n("div",{staticClass:"bottom-rights"},[n("p",[t._v("©2017 故与事 guyushi.com")])])])}]}},198:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.state.showMenu?n("div",[n("header",{ref:"headerdiv",staticClass:"gys-header"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),n("div",{attrs:{id:"hearder_nav"}},[n("div",{class:{"fix-menu":t.isShowFixMenu},attrs:{id:"nav-outer"}},[n("div",{staticClass:"headerNav clearfix",attrs:{id:"nav-inner"}},[n("p",{staticClass:"navTitle nt_deal",class:{nav_select:"home"==t.$store.state.activeMenu}},[t._m(3)]),t._v(" "),n("p",{staticClass:"navTitle nt_deal",class:{nav_select:"list"==t.$store.state.activeMenu}},[t._m(4)]),t._v(" "),n("p",{staticClass:"navTitle nt_deal"},[n("router-link",{attrs:{to:"/login"}},[n("span",[t._v("限时秒杀")]),t._v(" "),n("span",{staticClass:"header-nav-line"})])],1),t._v(" "),n("p",{staticClass:"navTitle nt_deal"},[n("router-link",{attrs:{to:"/my"}},[n("span",[t._v("我的账号")]),t._v(" "),n("span",{staticClass:"header-nav-line"})])],1)])])])]):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"home_log",attrs:{href:"/#/my"}},[n("img",{staticClass:"my",attrs:{src:"//f0.jmstatic.com/btstatic/h5/common/login2.png"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"index-search",attrs:{id:"page_top",href:"/#/search"}},[n("img",{attrs:{src:"//f0.jmstatic.com/btstatic/h5/common/search_btn.png"}}),n("span",[t._v("搜索商品 分类 功效")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/#/search"}},[n("span",{attrs:{id:"search_action"}},[n("img",{staticClass:"search",attrs:{src:"//f0.jmstatic.com/btstatic/h5/index/search_list2.png"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/#/"}},[n("span",[t._v("首页")]),t._v(" "),n("span",{staticClass:"header-nav-line"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/#/list"}},[n("span",[t._v("商品列表")]),t._v(" "),n("span",{staticClass:"header-nav-line"})])}]}},203:function(t,e){}});
//# sourceMappingURL=app.1e657cee2c2bcc67cf24.js.map